<app-admin-navbar></app-admin-navbar>
<div class="card">
    <div class="card-body">
        <h5 class="card-title">{{ editMode ? "Edit Pizza" : "Add Pizza" }}</h5>
        <button class="btn btn-primary" (click)="onSubmit()">
            {{ editMode ? "Update" : "Create" }}
        </button>
        <a class="btn btn-secondary" routerLink="/pizza-list" (click)="cancel()">Cancel</a>
    </div>


    <div class="form">
        <form [formGroup]="form">
            <div class="form-group col-md-4">
                <label for="name">Name</label>
                <input type="text" class="form-control" id="name" formControlName="name" placeholder="Name" />
                <small *ngIf="form.controls['name'].invalid && isSubmitted" style="color: red">Name is
                    required</small>
            </div>
            <div class="form-group col-md-4">
                <label for="price">Price</label>
                <input type="number" class="form-control" id="price" formControlName="price" placeholder="Price" />
                <small *ngIf="form.controls['price'].invalid && isSubmitted" style="color: red">Price is
                    required</small>
            </div>
            <div class="form-group col-md-4">
                <label for="stock">Stock</label>
                <input type="number" class="form-control" id="stock" formControlName="stock" placeholder="Stock" />
                <small *ngIf="form.controls['stock'].invalid && isSubmitted" style="color: red">Stock is
                    required</small>
            </div>



            
            <div class="form-group col-md-4">
              <label for="category">store</label>
              <select
                class="form-select form-select-sm-lg mb-3"
                aria-label=".form-select-sm example"
                formControlName="store"
              >
                <option selected>Select the store</option>
                <option
                  [value]="store.id"
                  *ngFor="let store of store"
                  [ngValue]="store.id"
                >
                  {{ store.name }}
                </option>
              <!-- fcgvhbjnk -->
            </select>
              <small
                *ngIf="form.controls['store'].invalid && isSubmitted"
                style="color: red"
                >Please select a store</small
              >
            </div>




            <div class="form-group col-md-4">
                <label for="category">Category</label>
                <input type="text" class="form-control" id="category" formControlName="category"
                    placeholder="Category" />
                <small *ngIf="form.controls['category'].invalid && isSubmitted" style="color: red">Category is
                    required</small>
            </div>
            <div class="form-group col-md-12">
                <label for="description">Description</label>
                <textarea name="description" id="description" class="form-control" formControlName="description"
                    rows="3" placeholder="Description"></textarea>
                <small *ngIf="form.controls['description'].invalid && isSubmitted" style="color: red">Description is
                    required</small>
            </div>
            <div class="form-group col-md-12">
                <label for="image">Image</label>
                <input class="form-control im" type="file" accept="image/*" formControlName="image"
                    (change)="onUpload($event)" />
            </div>
        </form>
    </div>
</div>
